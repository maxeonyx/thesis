\documentclass[crop,tikz]{standalone}

\input{figure-preamble}

\begin{document}
    \begin{tikzpicture}

        \tikzstyle{every node}=[draw,rectangle, minimum width=1.1cm,anchor=west,align=center]

        \foreach \i / \x / \y in {0/1/2,1/2/3,2/3/4,3/4/5,4/5/6,5/6/7,6/7/8} {
            \node[text width=0.8cm, minimum height=1.2cm] (i_\x) at (\i*1.1cm, 0) {Pos$_{\x}$ Val$_{\x}$};
            \node[text width=0.8cm, minimum height=1.2cm] (t_\x) at (\i*1.1 cm, -3cm) {Val$_{\y}$};

            \begin{pgfonlayer}{bg}
                \draw[->] ([xshift=-3pt]i_\x.south) -- ([xshift=3pt]t_\x.north);
            \end{pgfonlayer}
        }

        \node[minimum width=1.1cm*7,fill=white,minimum height=0.8cm] (transformer) at (0, -1.5cm) {Unidirectional Transformer};



    \end{tikzpicture}
\end{document}
